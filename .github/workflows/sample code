name: google
on: 
  workflow_dispatch: {}
   push: 
     branches: 
      - main 
        
  pull_request:
     branches:
        - main
jobs:
  build:
   runs-on: ubuntu-20.04
      npm install
      npm start
     
   name: npm install, build, and test
    run: |
      npm install
      npm run build --if-present
      npm run test --if-present

  - name: Zip artifact for deployment
    run: zip release.zip ./* -r

  - name: Upload artifact for deployment job
    uses: actions/upload-artifact@v2
    with:
      name: node-app
      path: release.zip
   
